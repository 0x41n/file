<!DOCTYPE html><html lang=ja><head><meta charset=utf-8><title>いろいじり</title><link rel=icon type=image/svg+xml href=https://0x41n.github.io/file/fav.svg></head><style>body{color:#444;font-size:small;width:700px;margin:auto;padding:2em;background-color:#eee;user-select:none}input{width:6em;border:none;outline:0;margin:0 .2em;font-weight:700;color:#555;background-color:#fff}table{width:calc(100% - 2em);text-align:center;table-layout:fixed;margin:0 1em;padding:0;border-collapse:collapse;overflow:hidden}input[type=number]{width:3em}#grad,#vsim{height:26em;font-size:.9em}input,span,table,td p{border-radius:.3em}#swap:hover{color:#aaa}</style><body>色をいじります。それだけです。計算はテキトーです。<br><br><b>RGB変換</b><table onchange=bg() style=text-align:left><tr><td>コード #<input type=text id=c1C maxlength=6 onchange='this.value.startsWith("#")&&(this.value=this.value.slice(1,7)),code()' value=dcdcd2><span id=bg1>　　</span></td><td onchange=hsl()>H°<input type=number id=c1H>S<input type=number id=c1S>L<input type=number id=c1L>[%]</td><td>反対色 #<input type=text id=o1C maxlength=6 disabled><span id=bg2>　　</span></td></tr><tr><td onchange=rgb()>R<input type=number id=c1R>G<input type=number id=c1G>B<input type=number id=c1B></td><td onchange=hsv()>H°<input type=number id=c2H>S<input type=number id=c2S>V<input type=number id=c2V>[%]</td><td>補色　 #<input type=text id=o2C maxlength=6 disabled><span id=bg3>　　</span></td></tr><tr><td onchange=cmyk() colspan=2>C<input type=number id=pc>M<input type=number id=pm>Y<input type=number id=py>K<input type=number id=pk>[%]</td><td>セーフ #<input type=text id=o3C maxlength=6 disabled><span id=bg6>　　</span></td></tr></table><span onchange='g1C.value.startsWith("#")&&(g1C.value=g1C.value.slice(1,7)),g2C.value.startsWith("#")&&(g2C.value=g2C.value.slice(1,7)),grdt(),cntr(),vsmu()'><table><tr><td rowspan=2><b>2色比較</b></td><td colspan=2>#<input type=text id=g1C value=dcdcd2><span id=bg4>　　</span><br>#<input type=text id=g2C value=1e232d><span id=bg5>　　</span></td><td id=swap onclick="let t=g1C.value;g1C.value=g2C.value,g2C.value=t,grdt(),cntr(),vsmu()"><b>⇅</b></td><td colspan=3 style=text-align:left>コントラスト　<b><span id=cont></span></b>　<br><span id=wcag></span></td><td colspan=3><p id=wcpr style=width:100%><b>WCAG 2.2</b>の<br>コントラスト基準です</p></td></tr></table><table><tr><td colspan=9>グラデーション <input type=number id=gNum value=3>段階<br><table id=grad></table></td><td></td><td colspan=9>色覚シミュレーション<table id=vsim></table></td></tr></table></span></body><script>const isNum=l=>"number"==typeof l&&isFinite(l),int=(l,a=10)=>isNum(l)?Math.round(l):parseInt(l,a),hx=l=>nn(l,255,0).toString(16).padStart(2,"0"),nn=(l,a,e)=>int(l<e?e:a<l?a:l),cct=(l,a,e)=>hx(l)+hx(a)+hx(e),h2r=l=>6!=l.length?0:[int(l.slice(0,2),16),int(l.slice(2,4),16),int(l.slice(4,6),16)],txl=(l,a,e)=>75<100*Math.max(l,a,e)/255?"444":"EEE",code=l=>{var a=h2r(c1C.value);0!=a&&(c1R.value=a[0],c1G.value=a[1],c1B.value=a[2],s2hsl(...a),s2hsv(...a),opo(...a),safe(...a),s2p(...a))},rgb=l=>{var a=nn(c1R.value,255,0),e=nn(c1G.value,255,0),t=nn(c1B.value,255,0);c1C.value=cct(a,e,t),c1R.value=a,c1G.value=e,c1B.value=t,s2hsl(a,e,t),s2hsv(a,e,t),opo(a,e,t),safe(a,e,t),s2p(a,e,t)},hsl=l=>{let a=nn(c1H.value,360,0),e=nn(c1S.value,100,0),t=nn(c1L.value,100,0),n=t<50?2.55*(t+t*e/100):2.55*(t+(100-t)*e/100),u=t<50?2.55*(t-t*e/100):2.55*(t-(100-t)*e/100),c=n-u,v=a<60?[n,a/60*c+u,u]:a<120?[(120-a)/60*c+u,n,u]:a<180?[u,n,(a-120)/60*c+u]:a<240?[u,(240-a)/60*c+u,n]:a<300?[(a-240)/60*c+u,u,n]:[n,u,(360-a)/60*c+u];v=v.map((l=>int(l))),c1R.value=v[0],c1G.value=v[1],c1B.value=v[2],c1H.value=a,c1S.value=e,c1L.value=t,c1C.value=cct(...v),s2hsv(...v),opo(...v),safe(...v),s2p(...v)},s2hsl=(l,a,e)=>{var t=[l,a,e],n=Math.max(...t),u=Math.min(...t),c=t.indexOf(n),v=n-u;n+=u,u=l==a&&a==e?0:60*(t[(c+1)%3]-t[(c+2)%3])/v+120*c,a=127<(l=n/2)?v/(510-n):v/n,u=isNaN(u)?0:int(u<0?360+u:u),a=isNaN(a)?0:int(100*a),l=isNaN(l)?0:int(100*l/255);c1H.value=u,c1S.value=a,c1L.value=l},hsv=l=>{let a=nn(c2H.value,360,0),e=nn(c2S.value,100,0),t=nn(c2V.value,100,0),n=2.55*t,u=n-e/100*n,c=n-u,v=a<60?[n,a/60*c+u,u]:a<120?[(120-a)/60*c+u,n,u]:a<180?[u,n,(a-120)/60*c+u]:a<240?[u,(240-a)/60*c+u,n]:a<300?[(a-240)/60*c+u,u,n]:[n,u,(360-a)/60*c+u];v=v.map((l=>int(l))),c1R.value=v[0],c1G.value=v[1],c1B.value=v[2],c2H.value=a,c2S.value=e,c2V.value=t,c1C.value=cct(...v),s2hsl(...v),opo(...v),safe(...v),s2p(...v)},s2hsv=(l,a,e)=>{var t=[l,a,e],n=Math.max(...t),u=Math.min(...t),c=t.indexOf(n);l=l==a&&a==e?0:60*(t[(c+1)%3]-t[(c+2)%3])/(n-u)+120*c,a=(n-u)/n,l=isNaN(l)?0:int(l<0?360+l:l),a=isNaN(a)?0:int(100*a);c2H.value=l,c2S.value=a,c2V.value=int(100*n/255)},opo=(l,a,e)=>{o1C.value=cct(255-l,255-a,255-e);var t=Math.max(l,a,e)+Math.min(l,a,e);o2C.value=cct(t-l,t-a,t-e)},safe=(l,a,e)=>{o3C.value=cct(51*int(5*l/255),51*int(5*a/255),51*int(5*e/255))},cmyk=l=>{var a=nn(pk.value,100,0),e=nn(pc.value,100,0),t=nn(pm.value,100,0),n=nn(py.value,100,0),u=int(255*(1-e/100)*(1-a/100)),c=int(255*(1-t/100)*(1-a/100)),v=int(255*(1-n/100)*(1-a/100));c1C.value=cct(u,c,v),c1R.value=u,c1G.value=c,c1B.value=v,pk.value=a,pc.value=e,pm.value=t,py.value=n,s2hsl(u,c,v),s2hsv(u,c,v),opo(u,c,v),safe(u,c,v)},s2p=(l,a,e)=>{var t=1-Math.max(l,a,e)/255;l=(1-l/255-t)/(1-t),a=(1-a/255-t)/(1-t),e=(1-e/255-t)/(1-t);pk.value=nn(100*t,100,0),pc.value=nn(100*l,100,0),pm.value=nn(100*a,100,0),py.value=nn(100*e,100,0)};bg=l=>{bg1.style.backgroundColor="#"+c1C.value,bg2.style.backgroundColor="#"+o1C.value,bg3.style.backgroundColor="#"+o2C.value,bg6.style.backgroundColor="#"+o3C.value},grdt=l=>{var a=nn(gNum.value,15,3),e=h2r(g1C.value),t=h2r(g2C.value);if(gNum.value=a,0!=e&&0!=t){let l=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2],o="";for(let t=0;t<a;t++){var n=nn(e[0]+l/(a-1)*t,255,0),u=nn(e[1]+r/(a-1)*t,255,0),c=nn(e[2]+s/(a-1)*t,255,0),v=cct(n,u,c);o+=`<tr style="color:#${txl(n,u,c)};background-color:#${v}"><td colspan="3">#${v}</td><td>R${n}</td><td>G${u}</td><td>B${c}</td></tr>`}grad.innerHTML=o,bg4.style.backgroundColor="#"+g1C.value,bg5.style.backgroundColor="#"+g2C.value,wcpr.style.backgroundColor="#"+g1C.value,wcpr.style.color="#"+g2C.value}},cntr=l=>{var a=h2r(g1C.value),e=h2r(g2C.value);0!=a&&0!=e&&(a=.2126*lrgb(a[0])+.7152*lrgb(a[1])+.0722*lrgb(a[2]),e=.2126*lrgb(e[0])+.7152*lrgb(e[1])+.0722*lrgb(e[2]),e=Math.round((.05+(e<a?a:e))/(.05+(e<a?e:a))*100)/100,cont.innerText=e,wcag.innerHTML=`文章 <b>${e<4.5?"×":e<7?"AA":"AAA"}</b>　見出し / UI <b>${e<3?"×":e<4.5?"AA":"AAA"}</b>`)},lrgb=l=>.04045<l/255?Math.pow((l/255+.055)/1.055,2.4):l/3294.6,vsmu=l=>{let a,e,t,n=h2r(g1C.value),u=h2r(g2C.value),c="",v=["0型 / C型","1型 / P型","2型 / D型","3型 / T型"];for(n=[n,psmu(...n),dsmu(...n),tsmu(...n)],u=[u,psmu(...u),dsmu(...u),tsmu(...u)],a=0;a<4;a++)e=cct(...n[a]),t=cct(...u[a]),c+=`<tr><td title="#${e}"style="background-color:#${e};color:#${txl(...n[a])}">${v[a]}</td><td title="#${t}"style="background-color:#${t};color:#${txl(...u[a])}">${v[a]}</td></tr>`;vsim.innerHTML=c},mtrx=(l,a)=>{let e,t,n,u=[];for(e=0;e<l.length;e++)for(u.push([]),t=0;t<a[0].length;t++)for(u[e].push(0),n=0;n<l[0].length;n++)u[e][t]+=l[e][n]*a[n][t];return u},psmu=(l,a,e)=>mtrx([[.152286,1.052583,-.204868],[.114503,.786281,.099216],[-.003882,-.048116,1.051998]],[[l],[a],[e]]).flat(1/0),dsmu=(l,a,e)=>mtrx([[.367322,.860646,-.227968],[.280085,.672501,.047413],[-.01182,.04294,.968881]],[[l],[a],[e]]).flat(1/0),tsmu=(l,a,e)=>mtrx([[1.255528,-.076749,-.178779],[-.078411,.930809,.147602],[.004733,.691367,.3039]],[[l],[a],[e]]).flat(1/0),code(),grdt(),cntr(),vsmu(),bg()</script></html>