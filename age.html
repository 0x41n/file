<!DOCTYPE html><html lang=ja><head><meta charset=utf-8><title>今日の年齢計算</title><link rel=icon type=image/svg+xml href=https://0x41n.github.io/file/fav.svg></head><style>body{background-color:#eee;width:40vw;margin:0;padding:5em 30vw;color:#444;user-select:none;overflow-x:hidden}input{border:none;background-color:#fff;width:4em}table{width:100%;table-layout:fixed;border-collapse:collapse;text-align:center}td{overflow-x:hidden;border:solid 1px#aaa}</style><body><b>今日の年齢計算</b>　※グレゴリオ暦で計算<table onchange=calc()><tr><td colspan=3>西暦　<input type=number id=year>年　 <input type=number id=month>月　 <input type=number id=day>日　生まれ</td></tr><tr><td>元号　<input type=text id=d0 disabled>年</td><td>満年齢　<input type=number id=d1 disabled></td><td>数え年　<input type=number id=d2 disabled></td></tr><tr><td>星座　<input type=text id=d3 style=width:6em;text-align:center disabled></td><td>干支　<input type=text id=d4 disabled></td></tr></table></body><script>const DD=new Date,nn=(e,a,l)=>a<e?a:e<l?l:e,MM=[1,3,5,7,8,10,12],int=e=>parseInt(e),STAR=[["みずがめ座",120],["うお座",219],["おひつじ座",321],["おうし座",420],["ふたご座",521],["かに座",622],["しし座",723],["おとめ座",823],["てんびん座",923],["さそり座",1024],["いて座",1123],["やぎ座",1222]],YY=["庚辛壬癸甲乙丙丁戊己","申酉戌亥子丑寅卯辰巳午未"],GG=[["元亀",15730825],["天正",15930110],["文禄",15961216],["慶長",16150905],["元和",16240417],["寛永",16450113],["正保",16480407],["慶安",16521020],["承応",16550518],["明暦",16580821],["万治",16610523],["寛文",16731030],["延宝",16811109],["天和",16840405],["貞享",16881023],["元禄",17040416],["宝永",17110611],["正徳",17160809],["享保",17360607],["元文",17410412],["寛保",17440403],["延享",17480805],["寛延",17511214],["宝暦",17640630],["明和",17721210],["安永",17810425],["天明",17890219],["寛政",18010319],["享和",18040322],["文化",18180526],["文政",18310123],["天保",18450109],["弘化",18480401],["嘉永",18550115],["安政",18600408],["万延",18610329],["文久",18640327],["元治",18650501],["慶応",18681023],["明治",19120729],["大正",19261224],["昭和",19890107],["平成",20190430],["令和",99999999]],calc=e=>{year.value=nn(int(year.value),DD.getFullYear(),1583),month.value=nn(int(month.value),12,1);let a=MM.includes(int(month.value))?31:30,l=(2==month.value&&(a=year.value%4||!(year.value%100)&&year.value%400?28:29),day.value=nn(parseInt(day.value),a,1),d2.value=DD.getFullYear()-year.value+1,d1.value=DD.getFullYear()-year.value,0),u=100*(DD.getMonth()+1)+DD.getDate(),t=100*int(month.value)+int(day.value);for(d1.value=nn(d1.value-(t<u?0:1),999,0),d3.value=STAR[11][0];l<11;l++)t>=STAR[l][1]&&(d3.value=STAR[l][0]);for(d4.value=YY[0].split("")[year.value%10]+YY[1].split("")[year.value%12],l=0;l<GG.length;l++){var v=int(GG[l][1]/1e4),n=GG[l][1]%1e4;if(year.value<v){d0.value=GG[l][0]+" "+(year.value-int(GG[l-1][1]/1e4-1));break}if(year.value==v&&t<=n){d0.value=GG[l][0]+" "+(year.value-int(GG[l-1][1]/1e4-1));break}}};year.value=DD.getFullYear(),month.value=DD.getMonth()+1,day.value=DD.getDate(),calc()</script></html>